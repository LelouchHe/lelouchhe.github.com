---
layout: math
title: 算法之美第三章
category: algorithm
tag: algorithms
---

## 图论引论

从本章开始,我们正式进入一个比较复杂的章节.其实单就算法而言,并没有很艰难的实现或者很复杂深奥的计算,相反,图论提供给人的,更多的是一种观察和思考问题的方式

此处,我们不一定会按照书本内容来说,图论这部分更多的参考了[算法笔记][jeff]和[algorithms 4th][algorithms4]这两本书,前者提供了很多新的思考方式,而后者的插图很棒很丰富,代码也很明了,让人看的非常舒适

## 讲解顺序

通过我个人的理解,图论其实大体上分为5个部分,下面分别进行阐述

### 基本概念

认识一个问题,第一步肯定是了解各种概念.所以第一部分我们首先介绍一些关于图论的基本概念.

当然,很可能有些概念不明所以,我尽量会穿插些后面的初级内容,尽量说的明白一些

### 基本操作

这个部分,首先是将基本概念代码化,通过实地的代码,来了解图的各种表示和优缺点;然后就是图的基本操作--遍历,除去代码外,会着重讲解遍历框架和V/E的各种属性区分;最后,则是基本操作的实际应用,即拓扑排序(topo)和连通分量(cc)的求解.

虽然第三块内容可能稍微复杂些,但topo和cc可以给基本操作(图的遍历)一个最简单的应用场景,有助于理解遍历的特性和使用范围

### 图的结构

这部分主要考察和研究图结构方面的性质.我们忽略图中边的权值(也就是无权值图),着重考察节点之间的内在关系.

图的结构有很多有趣的问题,我这里可能提到的有最短路径问题,独立集问题,覆盖问题,二分图等.很多问题可能我还没有掌握,会慢慢的进行介绍

### 图的权值

在结构的基础上,添加边的权值,考察有权值图的性质.这给我们增加了新的有趣的问题,同样也是一般图论书介绍的最多的问题,比如最短路径问题(SSSP和APSP),最小生成树(MST),最大流(Max Flow)等,这些问题人们研究的比较透彻,也有很多非常精妙的算法解决.我们着重考察why和how,当然,还是会有相应的代码实现的

### 图的推广

最后一部分就是图算法的推广.实际问题肯定不会像算法问题一样明确的指明要用图论知识来求解.如何判断和适当的引入图就是一个问题.

比如以后会提到的"job schedule"问题,每个job有工作起始时间,要求求可完成的最大工作数.这个问题可以看做一个图论问题,节点为job,边为相互冲突的job,然后求解最大独立集即可.但这个问题有比较快速的贪心解法(这个后说),所以此处引入图论,只是增加复杂度而已.判断很重要,图毕竟是很复杂的概念,有简化的算法还是简化的好

当然,另一方面,当无法简化时,要注意联想到图.[ADM][adm]中有句话说的好,是"不要试图发明图算法,而是把问题规约为经典图问题".图本身就够复杂的了,图算法更加隐晦,所以在不可避免尝试图论算法时,一定不要重造轮子,一来是造不出来,二来是正确性和复杂度很难保证,所以问题的主攻方向还是**规约**到经典图问题上,然后利用现有的优化算法搞定

当然,这只是其中的一个大的方向,很多东西等到时候再讨论

## 真实顺序

虽然上面的顺序是美好的,但现实总是残酷的,图的结构这部分的资料找的还不是很全面,所以这部分可能会延后,我们先着重把其他4个部分搞定再说

## 基本概念

### 图

图(G)是由节点(V)和连接节点的边(E)构成的,即**G = (V, E)**,V和E可以是任意的集合,只要E中的元素连接V中的两两元素即可

一个泛化的说法是,V是对象,E是关系.只要处理的问题中出现了类似的样式,都可以认为是图的一种

图是广泛存在的,甚至一些我们认为不是的地方,下面举一些例子:

1. 上文提到过的"job schedule",V是job的集合,E是相互冲突的job(的关系的集合)
2. LIS(最长增长子串),V是串中的元素,E是元素与其后不低于其值的元素的集合
3. 编辑距离,V是source可能变换得到的串,E是可能的变换关系
4. 族谱,V是家族中的成员,E是各自之间的亲缘关系

可以举的例子还有很多,一般来说,我们要养成一个好习惯,即遇到问题,要首先分析其中的关系,而图则是对关系建模的一个优秀的工具.从上面的例子可以看到,关系的种类是多种多样的,但只要可以起到关联的作用,那么就可以抽象为图.这一点,在日后图的推广中特别重要,有的问题不在于能否解答,而在于能否想到

#### 关系

关系是个比较抽象的概念,在简单的图问题上,节点之间的关系是明确的,就是显式的边而已,但对于更加复杂的问题,关系是比较难找的(比如上面的3个例子),有几个重要的点需要思考:

* 与对象的关系 图问题究竟是先有关系E,还是先有对象V呢?个人看法是,关系在图中更为关键.对象是死的,关系的引入才带来的问题的可变.这也提醒我们,在处理问题时,不要一上来就追查什么是对象,而是要先分析有哪些可利用的关系,这关系的两头是同质还是异质(即是否同类对象),能否简化和转变,这样我们才能得到正确的对象概念,不至于陷于死胡同和人工构造的陷阱中
* 自关系 对象能否和自己有关系呢?当然可以.状态机中经常会出现的自循环,就是自关系的一种.这种关系比较隐蔽,有时候会被我们主观无视掉
* 多关系 对象之间的关系能否有多种呢?这里面涉及到2个方面,一个是对象间不同类型的关系,比如两个人既是父子又是朋友,这样的关系自然是可以存在多种的;二是对象间相同类型的关系,比如地图上两点的可达性,很有可能有多条不同的路径连接,这样的关系也是可以有多个的
* 对称 A和B有关系,能否说明B和A有关系呢?这涉及到对称问题,或者通俗来说,即方向.如果关系是没有方向的,比如朋友关系,那么这个关系是对称的,否则,像父子关系,就是单向的.当然,并不是说,单向关系中,对象间只能有一种关系,"多关系"和"对称"是不冲突的,比如暗恋关系,A暗恋B,B也暗恋A,暗恋肯定是单向的,但两对象间依然可以保持多关系
* 传递 A/B有关系,B/C有关系,那A/C有关系么?这个也是同关系的具体类型有关的,比如父子关系就不具有传递性,但class的继承关系就可以传递

(后面的讨论越发的类似数学中介绍的"自反/对称/传递"了,但搞计算机的,有个浅显的了解即可,其中涉及的数学理论,就可以忽略的)

关系是抽象图的最重要的特征,希望分析问题时多多注意.

下面在讨论问题时,就不适用抽象的关系/对象了,而是参照显式图的边/节点.这样比较容易理解些













[jeff]: http://www.cs.uiuc.edu/~jeffe/teaching/algorithms/
[algorithms4]: http://book.douban.com/subject/10432347/
[adm]: http://book.douban.com/subject/3072383/
